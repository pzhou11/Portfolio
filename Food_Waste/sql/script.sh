#!/bin/bash
echo "RUNNING SQL SCRIPT";
hostname='0.0.0.0';
echo $hostname;
mysql -h $hostname -P 3306 -u root FOOD_WASTE_CONSUMER_DB < table_creation.sql;
mysqlimport --ignore-lines=1 --fields-terminated-by=, --columns='USER_ID,USER_NM,USER_AGE,PASSWORD,FAMILY_SIZE,NUM_ADULTS,NUM_KIDS,ANNUAL_HOUSEHOLD_INCOME,SHOP_TRIP_FREQ' --host $hostname --port 3306 -u root FOOD_WASTE_CONSUMER_DB /sql/USER_PROFILE.csv
mysqlimport --fields-terminated-by=, --columns='USER_ID,RECEIPT_ID,WASTE_DATA_ENTRY_DT,ITEM_ID,ITEM_NAME,ITEM_CATEGORY,ITEM_CLASS, ITEM_SIZE,ITEM_TOTAL_PRICE,WASTE_AMT,WASTE_UNITS' --host $hostname --port 3306 -u root FOOD_WASTE_CONSUMER_DB /sql/USER_GROCERY_ITEM_WASTE_ACTUAL.csv
mysqlimport --ignore-lines=1 --fields-terminated-by=, --columns='USER_ID,RECEIPT_ID,RECEIPT_UPLOAD_DT,ITEM_ID,ITEM_NAME,ITEM_QTY_PRCH,ITEM_UNITS,ITEM_TOTAL_PRICE,ITEM_CATEGORY' --host $hostname --port 3306 -u root FOOD_WASTE_CONSUMER_DB /sql/USER_GROCERY_RECEIPT.csv
mysqlimport --ignore-lines=1 --fields-terminated-by=, --columns='USER_ID,RECEIPT_ID,RECEIPT_UPLOAD_DT,ITEM_ID,ITEM_NAME,ITEM_QTY_PRCH,ITEM_UNITS,ITEM_TOTAL_PRICE,ITEM_CATEGORY,ITEM_CLASS,ITEM_SIZE,DAY,ITEM_TOTAL_SIZE,FAMILY_SIZE,PER_CAPITA_SIZE,PER_CAPITA_SIZE_TRIP,PREVIOUS_SHOP_DATE,PREVIOUS_SHOP_SIZE,ITEM_SIZE_AVG,ITEM_SIZE_STDEV,ITEM_SIZE_Z,ITEM_SIZE_ALL_AVG,ITEM_SIZE_ALL_STDEV,ITEM_SIZE_ALL_Z,ITEM_DURATION,TIME_LOSS_COUNTER,TIME_LOSS,TRIP_SIZE_AVG,TRIP_SIZE_STDEV,DAYS_BETWEEN_AVG,DAYS_BETWEEN_STDEV,PREV_SIZE_Z,PREV_DATE_Z,PREV_Z,SHOPPING_RANK,WASTE_AMT' --host $hostname --port 3306 -u root FOOD_WASTE_CONSUMER_DB /sql/USER_GROCERY_ITEM_WASTE_PRED.csv
mysqlimport --ignore-lines=1 --fields-terminated-by=, --columns='ITEM_ID,ITEM_NAME,ITEM_CATEGORY,ITEM_CLASS,ITEM_SIZE,ITEM_UNITS,ITEM_DURATION' --host $hostname --port 3306 -u root FOOD_WASTE_CONSUMER_DB /sql/USER_GROCERY_ITEM_LOOKUP.csv
mysqlimport --ignore-lines=1 --fields-terminated-by=, --columns='USER_ID,ITEM_CATEGORY,FAMILY_SIZE,ITEM_ID,ITEM_CLASS,FIRST_SIZE,ITEM_SIZE,ITEM_TRUE_SIZE,ITEM_TOTAL_SIZE,ITEM_SIZE_AVG,ITEM_SIZE_STDEV,ITEM_SIZE_Z,ITEM_SIZE_ALL_AVG,ITEM_SIZE_ALL_STDEV,ITEM_SIZE_ALL_Z,ITEM_QTY_PRCH,PREVIOUS_SHOP_DATE,DAYS_BETWEEN_AVG,DAYS_BETWEEN_STDEV,PREV_DATE_Z,PREVIOUS_SHOP_SIZE,TRIP_SIZE_AVG,TRIP_SIZE_STDEV,PREV_SIZE_Z,PREV_Z,TIME_LOSS_COUNTER,TIME_LOSS,ITEM_FREQ_RANKED,CAT_FREQ_RANKED,MARKER,SECTION,prediction' --host $hostname --port 3306 -u root FOOD_WASTE_CONSUMER_DB /sql/USER_GROCERY_LIST_PREDICTION.csv
# mysqlimport --ignore-lines=1 --fields-terminated-by=, --columns='USER_ID,ITEM_ID,ITEM_SIZE,ITEM_QTY_PRCH,SHOPPING_DATE,RECEIPT_ID,ITEM_TOTAL_PRICE' --host $hostname --port 3306 -u root FOOD_WASTE_CONSUMER_DB /sql/SAMPLE_RECEIPTS.csv
# mysql -h 0.0.0.0 -P 3306 -u root FOOD_WASTE_CONSUMER_DB
